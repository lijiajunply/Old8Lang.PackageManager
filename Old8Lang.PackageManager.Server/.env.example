# ==============================================================================
# Old8Lang Package Manager - Environment Variables Configuration
# ==============================================================================
# Copy this file to .env and modify the values according to your environment
# Note: .env file should never be committed to version control

# ==============================================================================
# Database Configuration
# ==============================================================================

# Database provider: SQLite, PostgreSQL, SQLServer
DatabaseProvider=SQLite

# SQLite connection string (default for development)
ConnectionStrings__DefaultConnection=Data Source=packages.db

# PostgreSQL connection string
ConnectionStrings__PostgresConnection=Host=localhost;Database=Old8LangPackageManager;Username=postgres;Password=YourPassword

# Redis connection string
ConnectionStrings__Redis=localhost:6379

# ==============================================================================
# Server Configuration
# ==============================================================================

# HTTP endpoint
Kestrel__Endpoints__Http__Url=http://localhost:5000

# HTTPS endpoint
Kestrel__Endpoints__Https__Url=https://localhost:5001

# Allowed hosts
AllowedHosts=*

# ==============================================================================
# Package Storage Configuration
# ==============================================================================

# Storage root path (relative or absolute)
PackageStorage__StoragePath=packages

# Maximum package size in bytes (default: 104857600 = 100MB)
PackageStorage__MaxPackageSize=104857600

# Enable compression
PackageStorage__EnableCompression=true

# ==============================================================================
# Storage Provider Configuration
# ==============================================================================

# Storage provider type: FileSystem, S3, Minio, AzureBlob
Storage__ProviderType=FileSystem

# FileSystem storage configuration
Storage__FileSystem__RootPath=packages

# AWS S3 configuration
Storage__S3__Region=us-east-1
Storage__S3__BucketName=old8lang-packages
Storage__S3__AccessKeyId=
Storage__S3__SecretAccessKey=
Storage__S3__ServiceUrl=

# MinIO configuration
Storage__Minio__Endpoint=localhost:9000
Storage__Minio__BucketName=old8lang-packages
Storage__Minio__AccessKey=
Storage__Minio__SecretKey=
Storage__Minio__UseSSL=false

# Azure Blob Storage configuration
Storage__AzureBlob__ConnectionString=
Storage__AzureBlob__ContainerName=old8lang-packages
Storage__AzureBlob__AccountName=
Storage__AzureBlob__UseManagedIdentity=false

# ==============================================================================
# API Configuration
# ==============================================================================

# API version
Api__Version=3.0.0

# Service name
Api__ServiceName=Old8Lang Package Manager

# Base URL (used for generating links)
Api__BaseUrl=https://localhost:5001

# Require API key for protected endpoints
Api__RequireApiKey=false

# Require authentication
Api__RequireAuthentication=true

# Rate limit per minute
Api__RateLimitPerMinute=100

# ==============================================================================
# Security Configuration
# ==============================================================================

# Enable package signing
Security__EnablePackageSigning=false

# Require trusted certificates
Security__RequireTrustedCertificates=false

# Validate certificate chain
Security__ValidateCertificateChain=false

# Enable checksum validation
Security__EnableChecksumValidation=true

# JWT Configuration
Security__Jwt__Issuer=Old8LangPackageManager
Security__Jwt__Audience=Old8LangPackageManager
Security__Jwt__SecretKey=ChangeThisToASecureRandomStringForProduction123456789
Security__Jwt__ExpirationMinutes=1440
Security__Jwt__RefreshExpirationDays=30

# ==============================================================================
# Authentication Configuration
# ==============================================================================

# Enable user registration
Authentication__EnableRegistration=true

# Require email verification
Authentication__RequireEmailVerification=false

# Allow guest upload
Authentication__AllowGuestUpload=false

# Maximum packages per user
Authentication__MaxPackagesPerUser=100

# Maximum package size per user in bytes
Authentication__MaxPackageSizePerUser=1073741824

# ==============================================================================
# OIDC Configuration
# ==============================================================================

# Enable OIDC
Authentication__OIDC__Enabled=false

# GitHub OAuth
Authentication__OIDC__Providers__GitHub__Enabled=false
Authentication__OIDC__Providers__GitHub__ClientId=your-github-client-id
Authentication__OIDC__Providers__GitHub__ClientSecret=your-github-client-secret

# Google OAuth
Authentication__OIDC__Providers__Google__Enabled=false
Authentication__OIDC__Providers__Google__ClientId=your-google-client-id
Authentication__OIDC__Providers__Google__ClientSecret=your-google-client-secret

# Custom OIDC Provider
Authentication__OIDC__Providers__Custom__Enabled=false
Authentication__OIDC__Providers__Custom__ClientId=your-custom-client-id
Authentication__OIDC__Providers__Custom__ClientSecret=your-custom-client-secret
Authentication__OIDC__Providers__Custom__Authority=https://your-oidc-provider.com

# ==============================================================================
# Redis Configuration
# ==============================================================================

# Enable Redis caching
Redis__Enabled=true

# Redis connection string
Redis__ConnectionString=localhost:6379

# Redis database number
Redis__Database=0

# Key prefix
Redis__KeyPrefix=o8pm:

# Default expiration time (format: hh:mm:ss)
Redis__DefaultExpiration=01:00:00

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Log level: Trace, Debug, Information, Warning, Error, Critical, None
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning
Logging__LogLevel__Microsoft.EntityFrameworkCore.Database.Command=Information

# ==============================================================================
# IdentityServer Configuration
# ==============================================================================

IdentityServer__Issuer=https://localhost:5001

# Web client configuration
IdentityServer__Clients__Old8LangPackageManager.Web__ClientId=o8pm-web
IdentityServer__Clients__Old8LangPackageManager.Web__ClientSecret=o8pm-web-secret

# ==============================================================================
# Development Settings
# ==============================================================================

# ASPNETCORE_ENVIRONMENT: Development, Staging, Production
ASPNETCORE_ENVIRONMENT=Development
